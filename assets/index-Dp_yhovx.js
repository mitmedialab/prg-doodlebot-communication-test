(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&t(c)}).observe(document,{childList:!0,subtree:!0});function i(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(e){if(e.ep)return;e.ep=!0;const o=i(e);fetch(e.href,o)}})();const a=r=>document.querySelector("#app").innerHTML=r,l=()=>'<div><ul id="list"></ul></div>',d=(r="")=>{const n=document.getElementById("list");n.innerHTML=`<li>${new Date().toLocaleTimeString()}: ${r}</li>`+n.innerHTML};let s=window.location.protocol==="https:"?"https":window.location.protocol==="http:"?"http":"unknown";window.isSecureContext&&s==="http"&&(s="https");const p=new URLSearchParams(window.location.search);p.has("protocol")&&(s=p.get("protocol")==="https"?"https":"http");switch(s){case"https":const r="input",n="button";a(`
      <div>
        <input type="text" placeholder="Enter URL" id=${r} />
        <button id=${n}>Open child page</button>
        ${l()}
      </div>
    `);let i=0;window.addEventListener("message",({data:t})=>d(t)),document.getElementById(n).addEventListener("click",()=>{const t=document.getElementById(r).value,e=window.open(t);if(!e)return alert("Please allow popups for this website");setInterval(()=>e.postMessage(`HTTPS msg ${i++}`,t),100)});break;case"http":a(`<div>Messages: ${l()}</div>`),window.addEventListener("message",t=>{d(t.data),t.source.postMessage(`HTTP msg ${t.data}`,{targetOrigin:t.origin})});break;case"unknown":alert("This page is served over an unknown protocol");break}
